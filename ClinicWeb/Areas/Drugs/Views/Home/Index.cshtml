@{
	ViewData["Title"] = "藥師管理系統";
}

@section ModulesStyles
{
    <!-- iCheck -->
    <link href="~/vendors/iCheck/skins/flat/green.css" rel="stylesheet">
    <!-- Datatables -->

    <link href="~/vendors/datatables.net-bs/css/dataTables.bootstrap.min.css" rel="stylesheet">
    <link href="~/vendors/datatables.net-buttons-bs/css/buttons.bootstrap.min.css" rel="stylesheet">
    <link href="~/vendors/datatables.net-fixedheader-bs/css/fixedHeader.bootstrap.min.css" rel="stylesheet">
    <link href="~/vendors/datatables.net-responsive-bs/css/responsive.bootstrap.min.css" rel="stylesheet">
    <link href="~/vendors/datatables.net-scroller-bs/css/scroller.bootstrap.min.css" rel="stylesheet">

}



@section Styles {

}
@* 要改div大小 col-md-9 6改9 *@
<div class="col-md-9 col-sm-9 ">
    <div class="x_panel">
        <div class="x_title">
            <h2>藥品資訊</h2>
            <ul class="nav navbar-right panel_toolbox">
                <li>
                    <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                </li>                
                <li>
                    <a class="close-link"><i class="fa fa-close"></i></a>
                </li>
            </ul>
            <div class="clearfix"></div>
        </div>
        <!--新增按鈕的排版-->
        <div class="mb-8" style="overflow: auto">
            <div class="col-md-8">
                <label class="form-label"> </label>
                <button id="newDrugbtn" type="button" class="btn btn-primary" data-toggle="modal" data-target="#DrugCreate">新增藥品</button>
            </div>
        </div>
        <!--新增畫面的內容-->
        <div class="modal fade" id="DrugCreate" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <partial name="~/Areas/Drugs/Views/Partial/_DrugCreatePartial.cshtml" />
                </div>
            </div>
        </div>
        @* 如果要加搜尋選項放這裡 *@
        <div class="x_content">
            <div class="row">
                <div class="col-sm-12">
                    <div class="card-box table-responsive">
                        <table id="dtDrugs" class="table table-striped table-bordered" style="width:100%">
                            <thead>
                                <tr>
                                    <th style="display:none">id</th>
                                    <th>藥品代碼</th>
                                    <th>學名</th>
                                    <th>商品名</th>
                                    <th>中文名</th>
                                    <th>懷孕藥品分級</th>
                                    <th>儲存方法</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="card" style="width: 18rem;">
    <img src="~/images/anp4lg11-b.jpg" class="card-img-top" alt="...">
    <div class="card-body">
        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
    </div>
</div>
<div id="test">
    
</div>


@section Modules
{
    <!-- iCheck -->
    <script src="~/vendors/iCheck/icheck.min.js"></script>
    <!-- Datatables -->
    <script src="~/vendors/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="~/vendors/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
    <script src="~/vendors/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="~/vendors/datatables.net-buttons-bs/js/buttons.bootstrap.min.js"></script>
    <script src="~/vendors/datatables.net-buttons/js/buttons.flash.min.js"></script>
    <script src="~/vendors/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="~/vendors/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="~/vendors/datatables.net-fixedheader/js/dataTables.fixedHeader.min.js"></script>
    <script src="~/vendors/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
    <script src="~/vendors/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
    <script src="~/vendors/datatables.net-responsive-bs/js/responsive.bootstrap.js"></script>
    <script src="~/vendors/datatables.net-scroller/js/dataTables.scroller.min.js"></script>
    <script src="~/vendors/jszip/dist/jszip.min.js"></script>
    <script src="~/vendors/pdfmake/build/pdfmake.min.js"></script>
    <script src="~/vendors/pdfmake/build/vfs_fonts.js"></script>

}

@section Scripts{
	<script>
        $(document).ready(function () {
            $('#dtDrugs').dataTable({
                ajax: {
                    type: 'GET',
                    url: "Drugs/DrugsApi/DrugsInfo",
                    dataSrc: function (json) { return json; }
                },
                destroy: true,
                columns: [
                    { "data": "id", "visible": false},
                    { "data": "藥品代碼", "width": "13%" },
                    { "data": "學名", "width": "18%" },
                    { "data": "商品名", "width": "18%" },
                    { "data": "中文名", "width": "15%" },
                    { "data": "懷孕藥品分級", "width": "12%" }, //12%剛好欄位名稱不會換行
                    { "data": "儲存方法", "width": "24%" },
                ],
                fixedHeader: {
                    header: true
                },
                language: { 
                    url: '//cdn.datatables.net/plug-ins/1.13.7/i18n/zh-HANT.json' 
                }
            });
        })
        $("#dtDrugs tbody").on('mousedown', 'tr', function () {
            console.log('catch');
        })

        
	</script>
}