@model IEnumerable<ClinicWeb.Areas.Room.Models.ShowAppointmentRoomSchedule>

<form method="get" asp-action="Create" asp-controller="Room">
    <button type="submit" class="btn btn-primary">新增</button>
</form>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <table class="table">
        <thead>
            <tr>
                
                <th>起</th>
                <th>迄</th>
                <th>醫生</th>
                <th>護士</th>
                <th>患者</th>
                <th>房名</th>
              
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    
                    <td>@item.StartDate</td>
                    <td>@item.EndDate</td>
                    <td>@item.DoctorName</td>
                    <td>@item.NurseName</td>
                    <td>@item.MemberName</td>
                    <td>@item.RoomName</td>
                    <td>
                     @*    <a asp-action="Edit" asp-route-id="@item.AppointmentId">Edit</a> |
                        <a asp-action="Details" asp-route-id="@item.AppointmentId">Details</a> | *@
                    <a href="#" onclick="confirmDelete('@item.AppointmentId')">Delete</a>

                    </td>
                </tr>
            }
        <script>
            function confirmDelete(id) {
                if (confirm('Are you sure you want to delete this item?')) {
                    deleteItem(id);
                }
            }

            function deleteItem(id) {
                let delurl = '@Url.Content("~/Room/Room/DeleteConfirmed/")'
                $.ajax({
                        url: `${delurl}${id}`,
                    type: 'POST',
                    // dataType: 'json',
                    success: function (data) {
                     
                        location.reload();
                    },
                    error: function () {
                        alert('Error deleting item.');
                    }
                });
            }
        </script>
        </tbody>
    </table>
    

